// Code generated by pulumi-language-go DO NOT EDIT.
// *** WARNING: Do not edit by hand unless you're certain you know what you are doing! ***

package openstack

import (
	"context"
	"reflect"

	"errors"
	"github.com/pulumi/pulumi-openstack/sdk/v5/go/openstack/internal"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

// Manages a V2 Neutron Tap Mirror resource within OpenStack tap-as-a-service extension.
//
// ## Example Usage
//
// ```go
// package main
//
// import (
//
//	"github.com/pulumi/pulumi-openstack/sdk/v5/go/openstack"
//	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
//
// )
//
//	func main() {
//		pulumi.Run(func(ctx *pulumi.Context) error {
//			_, err := openstack.NewTaasTapMirrorV2(ctx, "tap_mirror_1", &openstack.TaasTapMirrorV2Args{
//				MirrorType: pulumi.String("erspanv1"),
//				PortId:     pulumi.String("a25290e9-1a54-4c26-a5b3-34458d122acc"),
//				RemoteIp:   pulumi.String("172.18.1.15"),
//				Directions: &openstack.TaasTapMirrorV2DirectionsArgs{
//					In:  pulumi.Int(1000),
//					Out: pulumi.Int(1001),
//				},
//			})
//			if err != nil {
//				return err
//			}
//			return nil
//		})
//	}
//
// ```
//
// ## Import
//
// Tap Mirrors can be imported using the `id`, e.g.
//
// ```sh
// $ pulumi import openstack:index/taasTapMirrorV2:TaasTapMirrorV2 tap_mirror_1 0837b488-f0e2-4689-99b3-e3ed531f9b10
// ```
type TaasTapMirrorV2 struct {
	pulumi.CustomResourceState

	// The human-readable description for the Tap Mirror.
	// Changing this updates the description of the existing Tap Mirror.
	Description pulumi.StringPtrOutput `pulumi:"description"`
	// A block declaring the directions to be mirrored and their
	// identifiers. One block has to be declared with at least one direction. Changing
	// this creates a new Tap Mirror.
	Directions TaasTapMirrorV2DirectionsOutput `pulumi:"directions"`
	// The type of the mirroring, can be `gre` or `erspanv1`.
	// Changing this creates a new Tap Mirror.
	MirrorType pulumi.StringOutput `pulumi:"mirrorType"`
	// The name of the Tap Mirror. Changing this updates the name of
	// the existing Tap Mirror.
	Name pulumi.StringOutput `pulumi:"name"`
	// The Port ID of the Tap Mirror, this will be the source of
	// the mirrored traffic, and this traffic will be tunneled into the GRE or ERSPAN
	// v1 tunnel. The tunnel itself is not starting from this port. Changing this
	// creates a new Tap Mirror.
	PortId pulumi.StringOutput `pulumi:"portId"`
	// Id of the OpenStack project.
	ProjectId pulumi.StringOutput `pulumi:"projectId"`
	// The region in which to obtain the V2 Networking client.
	// A Networking client is needed to create an endpoint group. If omitted, the
	// `region` argument of the provider is used. Changing this creates a new
	// group.
	Region pulumi.StringOutput `pulumi:"region"`
	// The remote IP of the Tap Mirror, this will be the remote
	// end of the GRE or ERSPAN v1 tunnel. Changing this creates a new Tap Mirror.
	RemoteIp pulumi.StringOutput `pulumi:"remoteIp"`
	// The owner of the Tap Mirror. Required if admin wants to
	// create a Tap Mirror for another project. Changing this creates a new Tap Mirror.
	TenantId pulumi.StringOutput `pulumi:"tenantId"`
}

// NewTaasTapMirrorV2 registers a new resource with the given unique name, arguments, and options.
func NewTaasTapMirrorV2(ctx *pulumi.Context,
	name string, args *TaasTapMirrorV2Args, opts ...pulumi.ResourceOption) (*TaasTapMirrorV2, error) {
	if args == nil {
		return nil, errors.New("missing one or more required arguments")
	}

	if args.Directions == nil {
		return nil, errors.New("invalid value for required argument 'Directions'")
	}
	if args.MirrorType == nil {
		return nil, errors.New("invalid value for required argument 'MirrorType'")
	}
	if args.PortId == nil {
		return nil, errors.New("invalid value for required argument 'PortId'")
	}
	if args.RemoteIp == nil {
		return nil, errors.New("invalid value for required argument 'RemoteIp'")
	}
	opts = internal.PkgResourceDefaultOpts(opts)
	var resource TaasTapMirrorV2
	err := ctx.RegisterResource("openstack:index/taasTapMirrorV2:TaasTapMirrorV2", name, args, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// GetTaasTapMirrorV2 gets an existing TaasTapMirrorV2 resource's state with the given name, ID, and optional
// state properties that are used to uniquely qualify the lookup (nil if not required).
func GetTaasTapMirrorV2(ctx *pulumi.Context,
	name string, id pulumi.IDInput, state *TaasTapMirrorV2State, opts ...pulumi.ResourceOption) (*TaasTapMirrorV2, error) {
	var resource TaasTapMirrorV2
	err := ctx.ReadResource("openstack:index/taasTapMirrorV2:TaasTapMirrorV2", name, id, state, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// Input properties used for looking up and filtering TaasTapMirrorV2 resources.
type taasTapMirrorV2State struct {
	// The human-readable description for the Tap Mirror.
	// Changing this updates the description of the existing Tap Mirror.
	Description *string `pulumi:"description"`
	// A block declaring the directions to be mirrored and their
	// identifiers. One block has to be declared with at least one direction. Changing
	// this creates a new Tap Mirror.
	Directions *TaasTapMirrorV2Directions `pulumi:"directions"`
	// The type of the mirroring, can be `gre` or `erspanv1`.
	// Changing this creates a new Tap Mirror.
	MirrorType *string `pulumi:"mirrorType"`
	// The name of the Tap Mirror. Changing this updates the name of
	// the existing Tap Mirror.
	Name *string `pulumi:"name"`
	// The Port ID of the Tap Mirror, this will be the source of
	// the mirrored traffic, and this traffic will be tunneled into the GRE or ERSPAN
	// v1 tunnel. The tunnel itself is not starting from this port. Changing this
	// creates a new Tap Mirror.
	PortId *string `pulumi:"portId"`
	// Id of the OpenStack project.
	ProjectId *string `pulumi:"projectId"`
	// The region in which to obtain the V2 Networking client.
	// A Networking client is needed to create an endpoint group. If omitted, the
	// `region` argument of the provider is used. Changing this creates a new
	// group.
	Region *string `pulumi:"region"`
	// The remote IP of the Tap Mirror, this will be the remote
	// end of the GRE or ERSPAN v1 tunnel. Changing this creates a new Tap Mirror.
	RemoteIp *string `pulumi:"remoteIp"`
	// The owner of the Tap Mirror. Required if admin wants to
	// create a Tap Mirror for another project. Changing this creates a new Tap Mirror.
	TenantId *string `pulumi:"tenantId"`
}

type TaasTapMirrorV2State struct {
	// The human-readable description for the Tap Mirror.
	// Changing this updates the description of the existing Tap Mirror.
	Description pulumi.StringPtrInput
	// A block declaring the directions to be mirrored and their
	// identifiers. One block has to be declared with at least one direction. Changing
	// this creates a new Tap Mirror.
	Directions TaasTapMirrorV2DirectionsPtrInput
	// The type of the mirroring, can be `gre` or `erspanv1`.
	// Changing this creates a new Tap Mirror.
	MirrorType pulumi.StringPtrInput
	// The name of the Tap Mirror. Changing this updates the name of
	// the existing Tap Mirror.
	Name pulumi.StringPtrInput
	// The Port ID of the Tap Mirror, this will be the source of
	// the mirrored traffic, and this traffic will be tunneled into the GRE or ERSPAN
	// v1 tunnel. The tunnel itself is not starting from this port. Changing this
	// creates a new Tap Mirror.
	PortId pulumi.StringPtrInput
	// Id of the OpenStack project.
	ProjectId pulumi.StringPtrInput
	// The region in which to obtain the V2 Networking client.
	// A Networking client is needed to create an endpoint group. If omitted, the
	// `region` argument of the provider is used. Changing this creates a new
	// group.
	Region pulumi.StringPtrInput
	// The remote IP of the Tap Mirror, this will be the remote
	// end of the GRE or ERSPAN v1 tunnel. Changing this creates a new Tap Mirror.
	RemoteIp pulumi.StringPtrInput
	// The owner of the Tap Mirror. Required if admin wants to
	// create a Tap Mirror for another project. Changing this creates a new Tap Mirror.
	TenantId pulumi.StringPtrInput
}

func (TaasTapMirrorV2State) ElementType() reflect.Type {
	return reflect.TypeOf((*taasTapMirrorV2State)(nil)).Elem()
}

type taasTapMirrorV2Args struct {
	// The human-readable description for the Tap Mirror.
	// Changing this updates the description of the existing Tap Mirror.
	Description *string `pulumi:"description"`
	// A block declaring the directions to be mirrored and their
	// identifiers. One block has to be declared with at least one direction. Changing
	// this creates a new Tap Mirror.
	Directions TaasTapMirrorV2Directions `pulumi:"directions"`
	// The type of the mirroring, can be `gre` or `erspanv1`.
	// Changing this creates a new Tap Mirror.
	MirrorType string `pulumi:"mirrorType"`
	// The name of the Tap Mirror. Changing this updates the name of
	// the existing Tap Mirror.
	Name *string `pulumi:"name"`
	// The Port ID of the Tap Mirror, this will be the source of
	// the mirrored traffic, and this traffic will be tunneled into the GRE or ERSPAN
	// v1 tunnel. The tunnel itself is not starting from this port. Changing this
	// creates a new Tap Mirror.
	PortId string `pulumi:"portId"`
	// The region in which to obtain the V2 Networking client.
	// A Networking client is needed to create an endpoint group. If omitted, the
	// `region` argument of the provider is used. Changing this creates a new
	// group.
	Region *string `pulumi:"region"`
	// The remote IP of the Tap Mirror, this will be the remote
	// end of the GRE or ERSPAN v1 tunnel. Changing this creates a new Tap Mirror.
	RemoteIp string `pulumi:"remoteIp"`
	// The owner of the Tap Mirror. Required if admin wants to
	// create a Tap Mirror for another project. Changing this creates a new Tap Mirror.
	TenantId *string `pulumi:"tenantId"`
}

// The set of arguments for constructing a TaasTapMirrorV2 resource.
type TaasTapMirrorV2Args struct {
	// The human-readable description for the Tap Mirror.
	// Changing this updates the description of the existing Tap Mirror.
	Description pulumi.StringPtrInput
	// A block declaring the directions to be mirrored and their
	// identifiers. One block has to be declared with at least one direction. Changing
	// this creates a new Tap Mirror.
	Directions TaasTapMirrorV2DirectionsInput
	// The type of the mirroring, can be `gre` or `erspanv1`.
	// Changing this creates a new Tap Mirror.
	MirrorType pulumi.StringInput
	// The name of the Tap Mirror. Changing this updates the name of
	// the existing Tap Mirror.
	Name pulumi.StringPtrInput
	// The Port ID of the Tap Mirror, this will be the source of
	// the mirrored traffic, and this traffic will be tunneled into the GRE or ERSPAN
	// v1 tunnel. The tunnel itself is not starting from this port. Changing this
	// creates a new Tap Mirror.
	PortId pulumi.StringInput
	// The region in which to obtain the V2 Networking client.
	// A Networking client is needed to create an endpoint group. If omitted, the
	// `region` argument of the provider is used. Changing this creates a new
	// group.
	Region pulumi.StringPtrInput
	// The remote IP of the Tap Mirror, this will be the remote
	// end of the GRE or ERSPAN v1 tunnel. Changing this creates a new Tap Mirror.
	RemoteIp pulumi.StringInput
	// The owner of the Tap Mirror. Required if admin wants to
	// create a Tap Mirror for another project. Changing this creates a new Tap Mirror.
	TenantId pulumi.StringPtrInput
}

func (TaasTapMirrorV2Args) ElementType() reflect.Type {
	return reflect.TypeOf((*taasTapMirrorV2Args)(nil)).Elem()
}

type TaasTapMirrorV2Input interface {
	pulumi.Input

	ToTaasTapMirrorV2Output() TaasTapMirrorV2Output
	ToTaasTapMirrorV2OutputWithContext(ctx context.Context) TaasTapMirrorV2Output
}

func (*TaasTapMirrorV2) ElementType() reflect.Type {
	return reflect.TypeOf((**TaasTapMirrorV2)(nil)).Elem()
}

func (i *TaasTapMirrorV2) ToTaasTapMirrorV2Output() TaasTapMirrorV2Output {
	return i.ToTaasTapMirrorV2OutputWithContext(context.Background())
}

func (i *TaasTapMirrorV2) ToTaasTapMirrorV2OutputWithContext(ctx context.Context) TaasTapMirrorV2Output {
	return pulumi.ToOutputWithContext(ctx, i).(TaasTapMirrorV2Output)
}

// TaasTapMirrorV2ArrayInput is an input type that accepts TaasTapMirrorV2Array and TaasTapMirrorV2ArrayOutput values.
// You can construct a concrete instance of `TaasTapMirrorV2ArrayInput` via:
//
//	TaasTapMirrorV2Array{ TaasTapMirrorV2Args{...} }
type TaasTapMirrorV2ArrayInput interface {
	pulumi.Input

	ToTaasTapMirrorV2ArrayOutput() TaasTapMirrorV2ArrayOutput
	ToTaasTapMirrorV2ArrayOutputWithContext(context.Context) TaasTapMirrorV2ArrayOutput
}

type TaasTapMirrorV2Array []TaasTapMirrorV2Input

func (TaasTapMirrorV2Array) ElementType() reflect.Type {
	return reflect.TypeOf((*[]*TaasTapMirrorV2)(nil)).Elem()
}

func (i TaasTapMirrorV2Array) ToTaasTapMirrorV2ArrayOutput() TaasTapMirrorV2ArrayOutput {
	return i.ToTaasTapMirrorV2ArrayOutputWithContext(context.Background())
}

func (i TaasTapMirrorV2Array) ToTaasTapMirrorV2ArrayOutputWithContext(ctx context.Context) TaasTapMirrorV2ArrayOutput {
	return pulumi.ToOutputWithContext(ctx, i).(TaasTapMirrorV2ArrayOutput)
}

// TaasTapMirrorV2MapInput is an input type that accepts TaasTapMirrorV2Map and TaasTapMirrorV2MapOutput values.
// You can construct a concrete instance of `TaasTapMirrorV2MapInput` via:
//
//	TaasTapMirrorV2Map{ "key": TaasTapMirrorV2Args{...} }
type TaasTapMirrorV2MapInput interface {
	pulumi.Input

	ToTaasTapMirrorV2MapOutput() TaasTapMirrorV2MapOutput
	ToTaasTapMirrorV2MapOutputWithContext(context.Context) TaasTapMirrorV2MapOutput
}

type TaasTapMirrorV2Map map[string]TaasTapMirrorV2Input

func (TaasTapMirrorV2Map) ElementType() reflect.Type {
	return reflect.TypeOf((*map[string]*TaasTapMirrorV2)(nil)).Elem()
}

func (i TaasTapMirrorV2Map) ToTaasTapMirrorV2MapOutput() TaasTapMirrorV2MapOutput {
	return i.ToTaasTapMirrorV2MapOutputWithContext(context.Background())
}

func (i TaasTapMirrorV2Map) ToTaasTapMirrorV2MapOutputWithContext(ctx context.Context) TaasTapMirrorV2MapOutput {
	return pulumi.ToOutputWithContext(ctx, i).(TaasTapMirrorV2MapOutput)
}

type TaasTapMirrorV2Output struct{ *pulumi.OutputState }

func (TaasTapMirrorV2Output) ElementType() reflect.Type {
	return reflect.TypeOf((**TaasTapMirrorV2)(nil)).Elem()
}

func (o TaasTapMirrorV2Output) ToTaasTapMirrorV2Output() TaasTapMirrorV2Output {
	return o
}

func (o TaasTapMirrorV2Output) ToTaasTapMirrorV2OutputWithContext(ctx context.Context) TaasTapMirrorV2Output {
	return o
}

// The human-readable description for the Tap Mirror.
// Changing this updates the description of the existing Tap Mirror.
func (o TaasTapMirrorV2Output) Description() pulumi.StringPtrOutput {
	return o.ApplyT(func(v *TaasTapMirrorV2) pulumi.StringPtrOutput { return v.Description }).(pulumi.StringPtrOutput)
}

// A block declaring the directions to be mirrored and their
// identifiers. One block has to be declared with at least one direction. Changing
// this creates a new Tap Mirror.
func (o TaasTapMirrorV2Output) Directions() TaasTapMirrorV2DirectionsOutput {
	return o.ApplyT(func(v *TaasTapMirrorV2) TaasTapMirrorV2DirectionsOutput { return v.Directions }).(TaasTapMirrorV2DirectionsOutput)
}

// The type of the mirroring, can be `gre` or `erspanv1`.
// Changing this creates a new Tap Mirror.
func (o TaasTapMirrorV2Output) MirrorType() pulumi.StringOutput {
	return o.ApplyT(func(v *TaasTapMirrorV2) pulumi.StringOutput { return v.MirrorType }).(pulumi.StringOutput)
}

// The name of the Tap Mirror. Changing this updates the name of
// the existing Tap Mirror.
func (o TaasTapMirrorV2Output) Name() pulumi.StringOutput {
	return o.ApplyT(func(v *TaasTapMirrorV2) pulumi.StringOutput { return v.Name }).(pulumi.StringOutput)
}

// The Port ID of the Tap Mirror, this will be the source of
// the mirrored traffic, and this traffic will be tunneled into the GRE or ERSPAN
// v1 tunnel. The tunnel itself is not starting from this port. Changing this
// creates a new Tap Mirror.
func (o TaasTapMirrorV2Output) PortId() pulumi.StringOutput {
	return o.ApplyT(func(v *TaasTapMirrorV2) pulumi.StringOutput { return v.PortId }).(pulumi.StringOutput)
}

// Id of the OpenStack project.
func (o TaasTapMirrorV2Output) ProjectId() pulumi.StringOutput {
	return o.ApplyT(func(v *TaasTapMirrorV2) pulumi.StringOutput { return v.ProjectId }).(pulumi.StringOutput)
}

// The region in which to obtain the V2 Networking client.
// A Networking client is needed to create an endpoint group. If omitted, the
// `region` argument of the provider is used. Changing this creates a new
// group.
func (o TaasTapMirrorV2Output) Region() pulumi.StringOutput {
	return o.ApplyT(func(v *TaasTapMirrorV2) pulumi.StringOutput { return v.Region }).(pulumi.StringOutput)
}

// The remote IP of the Tap Mirror, this will be the remote
// end of the GRE or ERSPAN v1 tunnel. Changing this creates a new Tap Mirror.
func (o TaasTapMirrorV2Output) RemoteIp() pulumi.StringOutput {
	return o.ApplyT(func(v *TaasTapMirrorV2) pulumi.StringOutput { return v.RemoteIp }).(pulumi.StringOutput)
}

// The owner of the Tap Mirror. Required if admin wants to
// create a Tap Mirror for another project. Changing this creates a new Tap Mirror.
func (o TaasTapMirrorV2Output) TenantId() pulumi.StringOutput {
	return o.ApplyT(func(v *TaasTapMirrorV2) pulumi.StringOutput { return v.TenantId }).(pulumi.StringOutput)
}

type TaasTapMirrorV2ArrayOutput struct{ *pulumi.OutputState }

func (TaasTapMirrorV2ArrayOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*[]*TaasTapMirrorV2)(nil)).Elem()
}

func (o TaasTapMirrorV2ArrayOutput) ToTaasTapMirrorV2ArrayOutput() TaasTapMirrorV2ArrayOutput {
	return o
}

func (o TaasTapMirrorV2ArrayOutput) ToTaasTapMirrorV2ArrayOutputWithContext(ctx context.Context) TaasTapMirrorV2ArrayOutput {
	return o
}

func (o TaasTapMirrorV2ArrayOutput) Index(i pulumi.IntInput) TaasTapMirrorV2Output {
	return pulumi.All(o, i).ApplyT(func(vs []interface{}) *TaasTapMirrorV2 {
		return vs[0].([]*TaasTapMirrorV2)[vs[1].(int)]
	}).(TaasTapMirrorV2Output)
}

type TaasTapMirrorV2MapOutput struct{ *pulumi.OutputState }

func (TaasTapMirrorV2MapOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*map[string]*TaasTapMirrorV2)(nil)).Elem()
}

func (o TaasTapMirrorV2MapOutput) ToTaasTapMirrorV2MapOutput() TaasTapMirrorV2MapOutput {
	return o
}

func (o TaasTapMirrorV2MapOutput) ToTaasTapMirrorV2MapOutputWithContext(ctx context.Context) TaasTapMirrorV2MapOutput {
	return o
}

func (o TaasTapMirrorV2MapOutput) MapIndex(k pulumi.StringInput) TaasTapMirrorV2Output {
	return pulumi.All(o, k).ApplyT(func(vs []interface{}) *TaasTapMirrorV2 {
		return vs[0].(map[string]*TaasTapMirrorV2)[vs[1].(string)]
	}).(TaasTapMirrorV2Output)
}

func init() {
	pulumi.RegisterInputType(reflect.TypeOf((*TaasTapMirrorV2Input)(nil)).Elem(), &TaasTapMirrorV2{})
	pulumi.RegisterInputType(reflect.TypeOf((*TaasTapMirrorV2ArrayInput)(nil)).Elem(), TaasTapMirrorV2Array{})
	pulumi.RegisterInputType(reflect.TypeOf((*TaasTapMirrorV2MapInput)(nil)).Elem(), TaasTapMirrorV2Map{})
	pulumi.RegisterOutputType(TaasTapMirrorV2Output{})
	pulumi.RegisterOutputType(TaasTapMirrorV2ArrayOutput{})
	pulumi.RegisterOutputType(TaasTapMirrorV2MapOutput{})
}
